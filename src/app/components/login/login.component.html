<div class="form-container">
  <div class="form-box">
    <h2>{{ 'login.login' | translate }}</h2>
    <form #loginForm="ngForm" (ngSubmit)="login()">
      <label for="email" class="label">{{ 'login.email' | translate }}</label>
      <input
        type="email"
        class="input"
        [(ngModel)]="email"
        name="email"
        required
        placeholder="{{ 'login.email' | translate }}"
        #emailInput="ngModel"
        [class.input-error]="emailInput.invalid && emailInput.touched">
      <div *ngIf="emailInput.invalid && emailInput.touched" class="error-message">
        <small *ngIf="emailInput.errors?.['required']">{{ 'login.error.email.required' | translate }}</small>
        <small *ngIf="emailInput.errors?.['email']">{{ 'login.error.email.format' | translate }}</small>
      </div>

      <label for="password" class="label">{{ 'login.password' | translate }}</label>
      <input
        type="password"
        class="input"
        [(ngModel)]="password"
        name="password"
        required
        placeholder="{{ 'login.password' | translate }}"
        #passwordInput="ngModel"
        [class.input-error]="passwordInput.invalid && passwordInput.touched">
      <div *ngIf="passwordInput.invalid && passwordInput.touched" class="error-message">
        <small *ngIf="passwordInput.errors?.['required']">{{ 'login.error.password.required' | translate }}</small>
      </div>

      <button type="submit" class="button" [disabled]="loginForm.invalid">{{ 'login.login' | translate }}</button>
    </form>
    <p *ngIf="errorMessage" class="error-message">{{ errorMessage | translate }}</p>
    <div class="register-footer">
      <span class="bold-text">{{ 'login.no_account' | translate }}</span>
      <a routerLink="/registration" class="register-link"><button class="shadow-text">{{ 'login.signup' | translate }}</button></a>
    </div>
    <div class="forgot-password">
      <button class="shadow-text" (click)="openModal()">{{ 'login.forgot_password' | translate }}</button>
    </div>
  </div>
</div>

<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <h3>{{ 'login.recover_password' | translate }}</h3>
    <label for="resetEmail" class="label">{{ 'login.email' | translate }}</label>
    <input type="email" id="resetEmail" class="input" [(ngModel)]="resetEmail" placeholder="{{ 'login.enter_email' | translate }}">
    <button class="button" (click)="sendPasswordReset()">{{ 'login.send_email' | translate }}</button>
    <button class="button close-button" (click)="closeModal()">{{ 'login.close' | translate }}</button>
    <p *ngIf="modalErrorMessage" class="error-message">{{ modalErrorMessage | translate }}</p>
  </div>
</div>
