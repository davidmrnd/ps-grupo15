<div class="comments-container">
  <div class="comment" *ngFor="let comment of getSortedComments()">
    <div class="user">
      <a *ngIf="type === 'videogame'" routerLink="/user" [queryParams]="{ id: comment.user?.id }">
        <img [src]="setProfileIcon(comment)" [alt]="comment.user?.username" class="userprofile-image">
      </a>
      <a *ngIf="type === 'user'" [routerLink]="['/videogame', comment.videogame?.slug]">
        <img [src]="comment.videogame?.cover" [alt]="comment.videogame?.name" class="videogameprofile-image">
      </a>
      <aside class="info">
        <h3 *ngIf="type === 'videogame'">{{ comment.user?.username }}</h3>
        <h3 *ngIf="type === 'user'">{{ comment.videogame?.name }}</h3>
        <p>{{ comment.content }}</p>
        <span class="comment-date">{{ comment.createdAt | date: 'dd/MM/yyyy, HH:mm' }}</span>
      </aside>
    </div>
    <aside class="stars-container">
      <app-stars [rating]="comment.rating"></app-stars>
      <button
      *ngIf="comment.userId === currentUserId && type === 'user'"
      (click)="navigateToEditCommentFromUserProfile(comment.videogame.slug)"
      class="edit-button"
      title="Editar comentario">
      ✏️
      </button>
      <button
        *ngIf="comment.userId === currentUserId && type === 'videogame'"
        (click)="navigateToEditCommentFromVideogame()"
        class="edit-button"
        title="Editar comentario">
        ✏️
      </button>
    </aside>
  </div>
</div>
